function loadAdminData() {
    const stockTableBody = document.getElementById("stock-table-body");
    stockTableBody.innerHTML = "";

    // Firebase의 stock 노드에서 재고 데이터 로드
    firebase.database().ref('stock').once('value')
        .then((snapshot) => {
            const stockEntries = snapshot.val();
            const stockData = {
                labels: [],
                프렌치바닐라: [],
                솔리드그레이: [],
                베이지코튼: [],
                합계: []
            };

            if (stockEntries) {
                const stockMap = {}; // { baseMatName: { color: quantity } }

                // 모든 매트 이름과 색상에 대해 재고를 집계
                for (const matFullName in stockEntries) {
                    const baseMatName = getBaseMatName(matFullName);
                    if (!stockMap[baseMatName]) {
                        stockMap[baseMatName] = { "프렌치바닐라": 0, "솔리드그레이": 0, "베이지코튼": 0 };
                    }
                    for (const color in stockEntries[matFullName]) {
                        const qty = stockEntries[matFullName][color];
                        if (stockMap[baseMatName][color] !== undefined) {
                            stockMap[baseMatName][color] += qty;
                        } else {
                            stockMap[baseMatName][color] = qty;
                        }
                    }
                }

                const matTypes = Object.keys(stockMap);
                matTypes.forEach(mat => {
                    const colors = stockMap[mat];
                    let row = document.createElement("tr");
                    row.innerHTML = `<td>${mat.replace(/_/g, ' ')}</td>`;
                    let total = 0;
                    ["프렌치바닐라", "솔리드그레이", "베이지코튼"].forEach(color => {
                        const qty = colors[color] || 0;
                        row.innerHTML += `<td>${qty}장</td>`;
                        total += qty;

                        // 차트 데이터 준비
                        if (!stockData[color]) stockData[color] = [];
                        stockData[color].push(qty);
                    });
                    row.innerHTML += `<td class="total-cell">${total}장</td>`;
                    stockTableBody.appendChild(row);

                    // 합계 데이터 준비
                    stockData["합계"].push(total);
                });

                // 차트 레이블 설정
                stockData.labels = matTypes.map(mat => mat.replace(/_/g, ' '));

                // 차트 업데이트
                updateStockChart(stockData);
            } else {
                // 재고 데이터가 없을 때 기본 값 표시
                const matTypes = ["자이언트플러스", "빅토리매트"];
                matTypes.forEach(mat => {
                    const row = document.createElement("tr");
                    row.innerHTML = `<td>${mat.replace(/_/g, ' ')}</td><td>0장</td><td>0장</td><td>0장</td><td class="total-cell">0장</td>`;
                    stockTableBody.appendChild(row);
                });

                // 차트 레이블 설정
                stockData.labels = matTypes.map(mat => mat.replace(/_/g, ' '));
                stockData.프렌치바닐라 = new Array(matTypes.length).fill(0);
                stockData.솔리드그레이 = new Array(matTypes.length).fill(0);
                stockData.베이지코튼 = new Array(matTypes.length).fill(0);
                stockData.합계 = new Array(matTypes.length).fill(0);

                // 차트 업데이트
                updateStockChart(stockData);
            }
        })
        .catch((error) => {
            alert("재고 데이터 로드 중 오류 발생: " + error.message);
        });

    // 입출고 기록 테이블 로드
    loadEntryRecords();
}
